---
// Floating back to top button that appears when scrolling down
---

<button
	id="back-to-top"
	class="fixed bottom-8 md:bottom-12 left-1/2 -translate-x-1/2 z-50 w-12 h-12 md:w-14 md:h-14 flex items-center justify-center rounded-full bg-base-300 text-base-content opacity-0 invisible transition-all duration-300 hover:scale-105 active:translate-y-[0.5px] cursor-pointer"
	aria-label="Back to top">
	<i class="icon-chevron-bar-up text-xl md:text-2xl"></i>
</button>

<script>
	import { initBackToTop } from "@/scripts/backToTop";

	// Initialize on first load
	if (document.readyState === "loading") {
		document.addEventListener("DOMContentLoaded", initBackToTop);
	} else {
		initBackToTop();
	}

	// Reinitialize after view transitions
	document.addEventListener("astro:page-load", initBackToTop);
</script>
