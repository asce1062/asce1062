---
interface Props {
	username?: string;
}

const { username = "asce1062" } = Astro.props;
---

<div>
	<h2><i class="icon-github"></i> Heatmap of my contributions on GitHub</h2>
	<div class="h-48 overflow-auto">
		<iframe
			id="github-contributions"
			src={`https://jandee.vercel.app/${username}?scheme=dark`}
			title="GitHub Contributions"
			allowtransparency="true"
			class="w-full min-w-[900px] h-full"
			style="color-scheme: light;">
		</iframe>
	</div>
</div>

<script>
	import { initIframeTheme } from "@/scripts/iframeTheme";

	// Initialize GitHub contributions iframe theme synchronization
	initIframeTheme({
		id: "github-contributions",
		updateMethod: "src-query",
		queryParam: "scheme",
		queryValues: {
			dark: "dark",
			light: "light",
		},
	});
</script>
