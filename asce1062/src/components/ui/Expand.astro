---
interface Props {
	title: string;
	id?: string;
}
const { title, id } = Astro.props;
---

<section {id}>
	<div class="block w-full bg-base-200 px-4 shadow-lg">
		<h3 class="expand-toggle flex h-14 cursor-pointer items-center font-bold">{title}</h3>
		<div class="expand-body mb-2 overflow-auto" hidden>
			<slot name="content" />
		</div>
	</div>
</section>

<script>
	function initExpand() {
		document.querySelectorAll<HTMLElement>(".expand-toggle").forEach((toggle) => {
			const body = toggle.nextElementSibling as HTMLElement | null;
			if (!body) return;
			toggle.addEventListener("click", () => {
				body.hidden = !body.hidden;
			});
		});
	}

	document.addEventListener("astro:page-load", initExpand);
</script>
