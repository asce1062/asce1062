---
import Layout from '../../layouts/Layout.astro';
import Columns from '../../components/Columns.astro';
import type { MarkdownInstance } from 'astro';
import type { Frontmatter } from "../../types";
const allPosts = Object.values(import.meta.glob<MarkdownInstance<Frontmatter>>("../blog/*.mdx", { eager: true }));
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];
---
<Layout title="Tag Index" ogImage="social-preview.png" description=`bleep bloop indexed ${ tags.length == 1 ? "tag" : "tags!"}`>
    <main>
        <div>
            <h2>tag index</h2>
            <p>indexed {tags.length} { tags.length == 1 ? "tag" : "tags!"}</p>
            <Columns>
                <ul class = "list-disc list-inside">
                {tags.map((tag) => (
                    <li><a href={`/tags/${tag}`}>{tag}</a></li>
                ))}
                </ul>
            </Columns>
        </div>
    </main>
</Layout>
