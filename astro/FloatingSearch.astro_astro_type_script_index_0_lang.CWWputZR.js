import{i as v}from"./keyboardShortcuts.C7Cyc19W.js";function c(){const o=document.getElementById("floating-search-overlay"),t=document.getElementById("floating-search-modal"),d=document.getElementById("close-floating-search"),s=document.getElementById("open-floating-search");if(!o||!t||!d)return;function i(){const e=document.querySelector("header hr");if(e){const n=e.getBoundingClientRect(),m=window.scrollY||document.documentElement.scrollTop,p=n.top+m;if(!t)return;t.style.top=`${p}px`;const f=window.innerHeight-n.top-16;t.style.maxHeight=`${f}px`}}let a;function u(){clearTimeout(a),a=setTimeout(()=>{i()},10)}if(requestAnimationFrame(()=>{i()}),window.addEventListener("resize",u),window.addEventListener("scroll",i),window.addEventListener("orientationchange",i),typeof ResizeObserver<"u"){const e=new ResizeObserver(()=>{requestAnimationFrame(i)}),n=document.querySelector("header");n&&e.observe(n)}function l(){!o||!t||(o.classList.remove("opacity-0","pointer-events-none"),t.classList.remove("opacity-0","pointer-events-none"),document.body.style.overflow="hidden",setTimeout(()=>{t.querySelector('input[type="text"]')?.focus()},100))}function r(){!o||!t||(o.classList.add("opacity-0","pointer-events-none"),t.classList.add("opacity-0","pointer-events-none"),document.body.style.overflow="")}s&&s.addEventListener("click",l),d.addEventListener("click",r),o.addEventListener("click",r),document.addEventListener("keydown",e=>{e.key==="Escape"&&!t.classList.contains("pointer-events-none")&&r()}),s&&(v('#floating-searchbox input[type="text"]'),document.addEventListener("keydown",e=>{const n=e.ctrlKey||e.metaKey;e.key.toLowerCase()==="k"&&n&&t.classList.contains("pointer-events-none")&&(e.preventDefault(),l())}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();document.addEventListener("astro:page-load",c);
