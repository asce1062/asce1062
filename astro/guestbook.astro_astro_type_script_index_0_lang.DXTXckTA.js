function W(){return Math.floor(Math.random()*9e5+1e5)}function B(a="counter"){const n=document.getElementById(a);n&&(n.textContent=W().toString())}const k={bg:"none",borderColor:"base-300",borderWidth:"1px",borderStyle:"solid",borderRadius:"0.25rem"};function $(){const a=document.getElementById("style-input"),n=document.getElementById("customizer-panel"),L=document.getElementById("customizer-done"),f=document.getElementById("customizer-random"),s=document.getElementById("pattern-select"),p=document.getElementById("pattern-swatch"),o=document.getElementById("textarea-wrapper"),l=document.getElementById("border-width-slider"),i=document.getElementById("border-width-label"),u=["0.5px","1px","1.5px","2px","2.5px","3px","3.5px","4px"];if(!a||!n)return;const b=n.querySelector(".expand-body");if(!b)return;function h(){b.hidden=!0}L?.addEventListener("click",()=>h()),document.addEventListener("click",e=>{const r=e.target;!b.hidden&&!n.contains(r)&&!f?.contains(r)&&h()});function c(e){return e[Math.floor(Math.random()*e.length)]}const t={...k};function g(){a&&(a.value=JSON.stringify(t))}function S(e,r){r==="none"?e.style.setProperty("--pattern-url","none"):e.style.setProperty("--pattern-url",`url(/notecards/${r}.svg)`)}function x(){p&&S(p,t.bg)}function v(){o&&(S(o,t.bg),o.style.borderColor=`var(--color-${t.borderColor})`,o.style.borderWidth=t.borderWidth,o.style.borderStyle=t.borderStyle,o.style.borderRadius=t.borderRadius)}function A(){const e=u.indexOf(t.borderWidth);if(e!==-1&&(l&&(l.value=String(e)),i)){i.textContent=t.borderWidth;const r=e/7;i.style.left=`calc(${r*100}% + ${(.5-r)*1.25}rem)`}}function d(){x(),A(),v(),g()}s?.addEventListener("change",()=>{t.bg=s.value,d()});function m(e,r){o&&o.style.setProperty(e,r)}function y(){v()}document.querySelectorAll("[data-radius]").forEach(e=>{e.addEventListener("click",()=>{t.borderRadius=e.dataset.radius,document.querySelectorAll("[data-radius]").forEach(r=>r.classList.remove("selected")),e.classList.add("selected"),d()}),e.addEventListener("mouseenter",()=>m("border-radius",e.dataset.radius)),e.addEventListener("mouseleave",y)}),l?.addEventListener("input",()=>{const e=parseInt(l.value,10);t.borderWidth=u[e],d()}),document.querySelectorAll("[data-border-color]").forEach(e=>{e.addEventListener("click",()=>{t.borderColor=e.dataset.borderColor,document.querySelectorAll("[data-border-color]").forEach(r=>r.classList.remove("selected")),e.classList.add("selected"),d()}),e.addEventListener("mouseenter",()=>m("border-color",`var(--color-${e.dataset.borderColor})`)),e.addEventListener("mouseleave",y)}),document.querySelectorAll("[data-border-style]").forEach(e=>{e.addEventListener("click",()=>{t.borderStyle=e.dataset.borderStyle,document.querySelectorAll("[data-border-style]").forEach(r=>r.classList.remove("selected")),e.classList.add("selected"),t.borderStyle==="double"&&parseFloat(t.borderWidth)<3&&(t.borderWidth="3px"),d()}),e.addEventListener("mouseenter",()=>m("border-style",e.dataset.borderStyle)),e.addEventListener("mouseleave",y)});function E(){s&&(s.value=t.bg),document.querySelectorAll("[data-radius]").forEach(e=>e.classList.remove("selected")),document.querySelector(`[data-radius="${t.borderRadius}"]`)?.classList.add("selected"),document.querySelectorAll("[data-border-color]").forEach(e=>e.classList.remove("selected")),document.querySelector(`[data-border-color="${t.borderColor}"]`)?.classList.add("selected"),document.querySelectorAll("[data-border-style]").forEach(e=>e.classList.remove("selected")),document.querySelector(`[data-border-style="${t.borderStyle}"]`)?.classList.add("selected")}const q=Array.from(s?.options??[]).map(e=>e.value),C=Array.from(document.querySelectorAll("[data-border-color]")).map(e=>e.dataset.borderColor),I=Array.from(document.querySelectorAll("[data-radius]")).map(e=>e.dataset.radius),w=Array.from(document.querySelectorAll("[data-border-style]")).map(e=>e.dataset.borderStyle);f?.addEventListener("click",()=>{t.bg=c(q),t.borderColor=c(C),t.borderRadius=c(I),t.borderStyle=c(w),t.borderWidth=c(u),t.borderStyle==="double"&&parseFloat(t.borderWidth)<3&&(t.borderWidth="3px"),E(),d()}),E(),d()}function P(){B(),$()}document.addEventListener("astro:page-load",P);
